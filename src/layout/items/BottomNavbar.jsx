import React, { useContext } from "react";
import UserContext from "@/context/user/UserContext";
import { NavLink, useLocation } from "react-router-dom";

export default function BottomNavbar() {
  const { userInfo } = useContext(UserContext);
  const withoutBottomNavbarRoutes = ["/inbox", "/direct/t/"];
  const { pathname } = useLocation();

  if (withoutBottomNavbarRoutes.some((item) => pathname.includes(item))) {
    return;
  }
  return (
    <>
      <nav id="mobile-bottom-navbar">
        <i className="bottom-nav-icon">
          <NavLink
            className={({ isActive }) =>
              `home-icon-link ${isActive ? "active" : ""}`
            }
            to="/"
          >
            <svg
              className="home-icon"
              height="1.7rem"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke="#fff"
                d="M13.45 2.533a2.25 2.25 0 0 0-2.9 0L3.8 8.228a2.25 2.25 0 0 0-.8 1.72v9.305c0 .966.784 1.75 1.75 1.75h3a1.75 1.75 0 0 0 1.75-1.75V15.25c0-.68.542-1.232 1.217-1.25h2.566a1.25 1.25 0 0 1 1.217 1.25v4.003c0 .966.784 1.75 1.75 1.75h3a1.75 1.75 0 0 0 1.75-1.75V9.947a2.25 2.25 0 0 0-.8-1.72z"
              ></path>
            </svg>
          </NavLink>
        </i>
        <i className="bottom-nav-icon">
          <NavLink
            className={({ isActive }) =>
              `search-icon-link ${isActive ? "active" : ""}`
            }
            to="/search"
          >
            <svg
              viewBox="0 0 24 24"
              fill="none"
              className="search-icon"
              height="1.7rem"
              style={{ cursor: "pointer" }}
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M21 21L15.0001 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z"
                stroke="#ffffff"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
              ></path>
            </svg>
          </NavLink>
        </i>
        <i className="bottom-nav-icon">
          <NavLink
            className={({ isActive }) =>
              `new-post-icon-link ${isActive ? "active" : ""}`
            }
            to="/create"
          >
            <svg
              className="new-post-icon"
              height="1.7rem"
              role="img"
              viewBox="0 0 24 24"
              style={{ cursor: "pointer" }}
            >
              <path
                stroke="#ffffff"
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth="1.5"
                d="M 9.713 3.64 C 10.293999999999999 3.145 10.584999999999999 2.8970000000000002 10.889 2.7520000000000002 C 11.591624359671847 2.4162818507079997 12.40837564032815 2.416281850708 13.110999999999999 2.7520000000000002 C 13.415 2.8970000000000002 13.706 3.1450000000000005 14.286999999999999 3.64 C 14.886 4.15 15.494 4.408 16.294 4.471 C 17.055 4.532 17.436 4.563 17.754 4.675 C 18.488 4.9350000000000005 19.066000000000003 5.5120000000000005 19.325000000000003 6.247 C 19.437 6.564 19.468000000000004 6.945 19.529000000000003 7.707 C 19.592000000000002 8.507 19.849000000000004 9.114 20.359 9.713 C 20.855 10.293999999999999 21.103 10.584999999999999 21.248 10.889 C 21.584 11.591999999999999 21.584 12.408999999999999 21.248 13.110999999999999 C 21.103 13.415 20.855 13.706 20.36 14.286999999999999 C 19.864847042940166 14.843302828535947 19.57203292139703 15.550496499269688 19.529 16.294 C 19.468 17.055 19.437 17.436 19.325 17.754 C 19.065336933588345 18.488320756078394 18.48748583992221 19.06580425964224 17.753 19.325000000000003 C 17.436 19.437 17.055 19.468000000000004 16.293 19.529000000000003 C 15.492999999999999 19.592000000000002 14.886 19.849000000000004 14.286999999999999 20.359 C 13.706 20.855 13.415 21.103 13.110999999999999 21.248 C 12.40837564032815 21.583718149292 11.591624359671847 21.583718149292 10.889 21.248 C 10.584999999999999 21.103 10.293999999999999 20.855 9.713 20.36 C 9.156697170457107 19.864847040894013 8.449503502869916 19.572032920990843 7.7059999999999995 19.529 C 6.944999999999999 19.468 6.564 19.437 6.2459999999999996 19.325 C 5.511679244631566 19.065336933027048 4.934195739867238 18.48748583958395 4.674999999999999 17.753 C 4.562999999999999 17.436 4.531999999999999 17.055 4.470999999999999 16.293 C 4.428101727427417 15.54995046787193 4.135649969097299 14.843133326691984 3.640999999999999 14.286999999999999 C 3.144999999999999 13.706 2.8969999999999994 13.415 2.750999999999999 13.110999999999999 C 2.4155980261311623 12.408224560835876 2.415965600681959 11.591473262439504 2.751999999999999 10.889 C 2.896999999999999 10.584999999999999 3.1449999999999987 10.293999999999999 3.639999999999999 9.713 C 4.159999999999998 9.101999999999999 4.408999999999999 8.489999999999998 4.470999999999999 7.7059999999999995 C 4.531999999999999 6.944999999999999 4.562999999999999 6.564 4.674999999999999 6.2459999999999996 C 4.9346630664116535 5.5116792439216065 5.512514160077788 4.934195740357764 6.246999999999999 4.674999999999999 C 6.563999999999999 4.562999999999999 6.9449999999999985 4.531999999999999 7.706999999999999 4.470999999999999 C 8.450049536763004 4.4281017293574285 9.15686667044701 4.135649972675777 9.713 3.640999999999999 L 9.713 3.64 Z"
                fill="none"
              ></path>
              <path
                strokeLinecap="round"
                strokeLinejoin="round"
                strokeWidth="1.5"
                d="M 12 12 L 12 8.5 L 12 12 Z M 15.5 12 L 12 12 L 15.5 12 Z M 12 12 L 8.5 12 L 12 12 Z M 12 12 L 12 15.5 L 12 12 Z"
                stroke="#ffffff"
                fill="none"
              ></path>
            </svg>
          </NavLink>
        </i>
        <i className="bottom-nav-icon">
          <NavLink
            className={({ isActive }) =>
              `clips-icon-link ${isActive ? "active" : ""}`
            }
            to="/clips"
          >
            <svg
              className="clips-icon"
              style={{ cursor: "pointer" }}
              height="1.7rem"
              fill="currentColor"
              role="img"
              viewBox="0 0 16 16"
            >
              <path
                id="clipsPathNotActive"
                fill="#ffffff"
                d="m6 5.004l-.001 3.993a.5.5 0 0 0 .777.416l2.998-1.996a.5.5 0 0 0 0-.832L6.777 4.588A.5.5 0 0 0 6 5.004M2 4.25A2.25 2.25 0 0 1 4.25 2h6.5A2.25 2.25 0 0 1 13 4.25v5.5A2.25 2.25 0 0 1 10.75 12h-6.5A2.25 2.25 0 0 1 2 9.75zM4.25 3C3.56 3 3 3.56 3 4.25v5.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25v-5.5C12 3.56 11.44 3 10.75 3zM4 13c.456.607 1.182 1 2 1h5.25A3.75 3.75 0 0 0 15 10.25V6c0-.818-.393-1.544-1-2v6.25A2.75 2.75 0 0 1 11.25 13z"
              ></path>

              <path
                id="clipsPathActive"
                fill="#ffffff"
                d="M4.25 2A2.25 2.25 0 0 0 2 4.25v5.5A2.25 2.25 0 0 0 4.25 12h6.5A2.25 2.25 0 0 0 13 9.75v-5.5A2.25 2.25 0 0 0 10.75 2zM6 8.996V5.004a.5.5 0 0 1 .778-.416l2.997 1.996a.5.5 0 0 1 0 .833L6.777 9.413A.5.5 0 0 1 6 8.996M6 14a2.496 2.496 0 0 1-2-1h7.25A2.75 2.75 0 0 0 14 10.25V4c.607.456 1 1.182 1 2v4.25A3.75 3.75 0 0 1 11.25 14z"
              ></path>
            </svg>
          </NavLink>
        </i>
        <i className="bottom-nav-icon">
          <NavLink
            className={({ isActive }) =>
              `user-profile-icon-link ${isActive ? "active" : ""}`
            }
            to="/profile"
          >
            <div className="user-profile-icon">
              <img
                alt="User"
                className="user-profile-icon"
                src={userInfo.avatar}
              />
            </div>
          </NavLink>
        </i>
      </nav>
    </>
  );
}
